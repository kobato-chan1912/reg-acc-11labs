function sleep(t){return new Promise(e=>setTimeout(e,t))}CaptchaProcessors.register({captchaType:"hcaptcha_image",canBeProcessed:function(e,t){return!!t.hcaptcha_auto_solve&&!!$("#"+e.containerId).length},attachButton:function(e,t,n){e=$("#"+e.containerId);n.css({width:e.find("iframe").outerWidth()+"px"}),e.append(n),t.hcaptcha_auto_solve&&n.click()},getParams:function(e,t){return e},onSolved:async function(e,n){function a(n){["mouseover","mousedown","mouseup","click"].forEach(e=>{var t;n.fireEvent?n.fireEvent("on"+e):((t=document.createEvent("MouseEvents")).initEvent(e,!0,!1),n.dispatchEvent(t))})}async function o(t){let n=document.querySelector("canvas");n.addEventListener("mousedown",function(e){var t=n.getBoundingClientRect();event.clientX,t.left});for(let e=0;e<t.length;e+=2){var a=t[e],o=t[e+1],c=(d=u=s=l=i=r=c=void 0,n),r=a,i=o,l=c.getBoundingClientRect(),s=["mouseover","mousedown","mouseup","click"],u={clientX:r+l.left,clientY:i+l.top,bubbles:!0};for(let e=0;e<s.length;e++){var d=new MouseEvent(s[e],u);c.dispatchEvent(d)}await sleep(1e3)}}let c=n;c=(c=c.split(",")).map(e=>parseInt(e));n=250,t=350;var t=Math.floor(Math.random()*(t-n)+n);let r=0;var i,l=document.querySelectorAll(".task-image .image");if("multi"===e.type){for(let t of c){var s=[...document.querySelectorAll(".answer-text")].find(e=>e.outerText===t);a(s),[...document.querySelectorAll(".answer-example")].some(e=>"rgb(116, 116, 116)"===e.style.backgroundColor)||a(s)}await 0,r+=1}else if("grid"===e.type){for(i of(t=>{for(let e=t.length-1;0<e;e--){var n=Math.floor(Math.random()*(e+1));[t[e],t[n]]=[t[n],t[e]]}return t})(c))l[i]?.click();await sleep(t)}else if("bbox"===e.type){let e=c;if(!e)return;if(e?.length%2==0){var n=document.querySelector("canvas"),u=parseInt(n.style.width,10),n=parseInt(n.style.height,10),u=Math.min(u,n);let t=u<500?500/u:1;await o(e=e.map(e=>e/t)),r+=1}}else if("drag"===e.type){var d=c;if(d.length%2==0)for(let t=0;t<d.length;t+=4){var p=d[t],h=d[t+1],m=d[t+2],f=d[t+3],v=document.querySelector("canvas"),g=parseInt(v.style.width,10),w=parseInt(v.style.height,10),g=Math.min(g,w);let e=g<500?500/g:1;p/=e,h/=e,m/=e,f/=e,v.dispatchEvent(new MouseEvent("mousedown",{clientX:p,clientY:h})),v.dispatchEvent(new MouseEvent("mousemove",{clientX:m,clientY:f})),v.dispatchEvent(new MouseEvent("mouseup",{clientX:m,clientY:f})),await sleep(1e3)}}await sleep(t),document.querySelector(".button-submit")?.click(),await sleep(2e3),resetCaptchaWidget(e.captchaType,e.widgetId)},onFail:async function(e){document.querySelector(".refresh")?.click(),await sleep(2e3),resetCaptchaWidget(e.captchaType,e.widgetId)},getForm:function(e){return!1},getCallback:function(e){return null}});
