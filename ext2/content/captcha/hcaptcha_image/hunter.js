(()=>{let l=!1,n=e=>document.querySelector(e);function d(){return null!==document.querySelector(".task-answers")}function h(){return 9===document.querySelectorAll(".task-image .image")?.length}function p(){return null!==document.querySelector(".bounding-box-example")}function y(){var e=document.querySelector(".prompt-text").textContent;return!(!e.includes("drag")&&!e.includes("Fill the boxes"))}function o(t){return new Promise(e=>setTimeout(e,t))}async function x(e){return fetch(e).then(e=>e.blob()).then(l=>new Promise((e,t)=>{let a=new FileReader;a.onloadend=()=>e(a.result),a.onerror=t,a.readAsDataURL(l)}))}async function r(){"en"!==(document.documentElement.lang||navigator.language)&&await!(p()?(await o(200),document.querySelector(".display-language.button")?.click(),await o(100),document.querySelector(".language-selector .option:nth-child(23)")?.click()):h()?(await o(100),document.querySelector(".language-selector .option:nth-child(23)").click()):d()?(document.querySelector(".display-language.button")?.click(),await o(200),document.querySelector(".language-selector .option:nth-child(23)")?.click(),await o(200)):(y(),document.querySelector("#display-language")?.click(),await o(200),document.querySelector(".language-selector .option:nth-child(23)")?.click()));e=500;var e,{target:t,cells:a,images:l,example:n,choices:r}=await new Promise(async g=>{let s=setInterval(async function(){let e=document.querySelector(".prompt-text")?.textContent;if(e){let t=null;var n={};let a=[],l=[];var r=h(),c=d(),i=p(),u=y();if(r){if(9!==(t=document.querySelectorAll(".task-image .image")).length)return;for(let e=0;e<t.length;e++){var o=t[e];if(!o)return;o=o.style.background.match(/url\("(.*)"/)?.at(1)||null;if(!o||""===o)return;n[e]=await x(o)}if(example_ele=document.querySelector(".challenge-example .image .image")){if(example_url=example_ele.style.backgroundImage.match(/url\("(.*)"/)?.at(1),!(example_b64=await x(example_url)))return;a=[example_b64]}}else if(c){r=document.querySelector(".task-image .image").style.background;if(!r)return;let e="";try{e=await x(r.match(/url\("(.*)"/)?.at(1))||""}catch(e){}if(example_ele=document.querySelector(".challenge-example .image .image")){if(example_url=example_ele.match(/url\("(.*)"/)?.at(1),!(example_b64=await x(example_url)))return;a=[example_b64]}Object.assign(n,{[Object.keys(n).length]:e});c=document.querySelectorAll(".answer-text");l=Array.from(c).map(e=>e.outerText)}else if(i){r=await f();if(!r)return;Object.assign(n,{[Object.keys(n).length]:r}),example_ele=document.querySelectorAll(".example-image .image");for(let e=0;e<example_ele.length;e++){var m=example_ele[e].style.background.match(/url\("(.*)"/)?.at(1)||null;if(!m||""===m)return;a[e]=await x(m)}e=document.querySelector(".prompt-text")?.textContent}else if(u){c=await f();if(!c)return;Object.assign(n,{[Object.keys(n).length]:c}),e=document.querySelector(".prompt-text")?.textContent}return clearInterval(s),g({target:e,cells:t,images:n,example:a,choices:l})}},e)}),c=d()?"multi":p()?"bbox":y()?"drag":"grid";let i="",u=(i=d()?`${t}|${Object.values(l).length}|${c}|`+r.join(","):`${t}|${Object.values(l).length}|`+c,Object.values(l).join("|"));r=Object.values(n).join("|");return{image:u=""!=r?u+"|"+r:u,other:i,type:c,cells:a}}async function f(){var e=document.querySelector("canvas");if(!e)return null;var[t,a]=[e.width,e.height],l=e.getContext("2d").getImageData(0,0,t,a);if(Array.from(l.data).every((e,t)=>t%4==3||0===e))return null;let n=parseInt(e.style.width,10),r=parseInt(e.style.height,10);l=Math.min(n,r);if(l<500){let e=500/l;n*=e,r*=e}if(n<=0||r<=0)return null;let c=Math.min(n/t,r/a);var[l,i]=[t*c,a*c],u=document.createElement("canvas");return Object.assign(u,{width:l,height:i}),u.getContext("2d").drawImage(e,0,0,t,a,0,0,l,i),u.toDataURL("image/jpeg",.4).replace(/^data:image\/(png|jpeg);base64,/,"")}setInterval(async function(){var e,t,a;!window.registerCaptchaWidget||isCaptchaWidgetRegistered("hcaptcha_image",0)||l||(await getConfig(),l=!0,0!==(a=document.body?.getBoundingClientRect())?.width&&0!==a?.height&&null!==document.querySelector("div.check")?(()=>{try{var e=document.querySelector("div.check");return e&&"block"===e.style.display}catch(e){}})()||(await o(2e3),n("#checkbox")?.click()):null!==n("h2.prompt-text")&&(await o(1e3),a=await r(),(e=document.querySelector(".challenge-container").parentElement).id||(e.id="hcaptcha_image-container-"+Date.now()),(t={}).main=a.image,t.subType=0,t.captchaType="hcaptcha_image",t.widgetId=0,t.other=a.other,t.containerId=e.id,t.type=a.type,t.callback=null,t.cells=a.cells,registerCaptchaWidget(t)),l=!1)},1e3)})();
