window.shopee_score=(e,t)=>-(2*Math.abs(e.xmin-t.xmin)+Math.abs(e.ymin-t.ymin)),CaptchaProcessors.register({captchaType:"shopee",canBeProcessed:function(e,t){return!!t.shopee_auto_solve&&!!$("#"+e.containerId).length},attachButton:function(e,t,n){e=$("#"+e.containerId);n.css({width:e.find("iframe").outerWidth()+"px"}),e.append(n),t.shopee_auto_solve&&n.click()},getParams:function(e,t){return e},onSolved:async function(e,t){if(document.querySelector("#puzzleContainer")){var c=t.split(","),r=[];for(let e=0;e<c.length;e+=4)r.push({xmin:parseInt(c[e]),ymin:parseInt(c[e+1]),xmax:parseInt(c[e+2]),ymax:parseInt(c[e+3])});var s=document.querySelector('[draggable="true"][style]'),l=s.getBoundingClientRect();let n=l.left+l.width/2,a=l.top+l.height/2+10*Math.random()-5;s.dispatchEvent(new MouseEvent("mousedown",{bubbles:!0,cancelable:!0,clientX:n,clientY:a}));var u=Math.max(...r.map(e=>e.xmin));let o=0,i=-1e7;for(let e=0;e<236;e+=1){var m=document.querySelector("#puzzleContainer");let e=m.style.transform.match(/translateX\(([^)]+)\)/)[1],t=m.style.transform.match(/translateY\(([^)]+)\)/)[1];if((e=parseInt(e.replace("px","")))>u+5)break;t=parseInt(t.replace("px",""));var h,m=e+44,p=t+44,d={xmin:e,ymin:t,xmax:m,ymax:p};for(h of r){var b=shopee_score(d,h);b>i&&(i=b,o=n)}n+=1,a+=10*Math.random()-5;m=new MouseEvent("mousemove",{bubbles:!0,cancelable:!0,clientX:n,clientY:a});s.dispatchEvent(m),await new Promise(e=>setTimeout(e,10+10*Math.random()))}for(;n>o;){--n,a+=10*Math.random()-5;var v=new MouseEvent("mousemove",{bubbles:!0,cancelable:!0,clientX:n,clientY:a});s.dispatchEvent(v),await new Promise(e=>setTimeout(e,10+10*Math.random()))}s.dispatchEvent(new MouseEvent("mouseup",{bubbles:!0,cancelable:!0,clientX:n,clientY:a}))}else{l=parseInt(t);let n=document.querySelector('[draggable="true"][style]');t=n.getBoundingClientRect();let a=t.left+t.width/2,o=t.top+t.height/2+10*Math.random()-5,i=a+l,c=o+10*Math.random()-5;n.dispatchEvent(new MouseEvent("mousedown",{bubbles:!0,cancelable:!0,clientX:a,clientY:o}));t=setInterval(function(){var e=i-a+3*Math.random()-3,t=c-o,e=(a+=Math.min(e,10),o+=Math.min(t,10),new MouseEvent("mousemove",{bubbles:!0,cancelable:!0,clientX:a,clientY:o}));n.dispatchEvent(e)},100);await new Promise(e=>setTimeout(e,5e3)),clearInterval(t),n.dispatchEvent(new MouseEvent("mouseup",{bubbles:!0,cancelable:!0,clientX:a,clientY:o}))}await new Promise(e=>setTimeout(e,1e3)),resetCaptchaWidget(e.captchaType,e.widgetId)},onFail:async function(e){await new Promise(e=>setTimeout(e,1e3)),resetCaptchaWidget(e.captchaType,e.widgetId)},getForm:function(e){return!1},getCallback:function(e){return null}});
