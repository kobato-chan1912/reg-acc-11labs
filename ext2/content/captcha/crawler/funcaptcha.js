async function imageUrlToBase64(e){return new Promise((a,t)=>{fetch(e).then(e=>e.blob()).then(e=>{var t=new FileReader;t.onload=function(){var e=t.result.split(",")[1];a(e)},t.readAsDataURL(e)}).catch(e=>{t(e)})})}let STATE={click_started:"click started",ready:"ready"},state=STATE.ready;setInterval(async function(){var e,t,a,r;window.registerCaptchaWidget&&!isCaptchaWidgetRegistered("funcaptcha_crawler",0)&&state===STATE.ready&&((e=document.querySelector('[data-theme="home.verifyButton"]')||document.querySelector("#home_children_button"))?(state=STATE.click_started,e.click(),await new Promise(e=>setTimeout(e,2e3)),state=STATE.ready):(e=document.querySelector(".error button")||document.querySelector(".match-game-fail button")||document.querySelector("#wrong_children_button"))?e.click():(e=document.querySelectorAll("img"),0!==(e=Array.from(e).filter(e=>e.getAttribute("style")?.startsWith("background"))).length&&(e=(e=e[0]).style?.backgroundImage?.replace('url("',"").replace('")',""))&&(e=await imageUrlToBase64(e),t=document.querySelector("h2.text").textContent,""!==e)&&(a=document.querySelector("body"),(r={}).main=e,r.other=t,a.id||(a.id="funcaptcha_crawler-container-"+Date.now()),r.captchaType="funcaptcha_crawler",r.widgetId=0,r.containerId=a.id,r.callback=null,r.is_arrow=!0,registerCaptchaWidget(r))))},1500),CaptchaProcessors.register({captchaType:"funcaptcha_crawler",canBeProcessed:function(e,t){return!!t.tiktok_auto_solve&&!!$("#"+e.containerId).length},attachButton:function(e,t,a){e=$("#"+e.containerId);a.css({width:e.find("iframe").outerWidth()+"px"}),e.append(a),t.antibot_auto_solve&&a.click()},getParams:function(e,t){return e},onSolved:async function(e,t){var a=document.querySelector(".button")||document.querySelector(".restart-button");a&&a.click(),await new Promise(e=>setTimeout(e,500)),resetCaptchaWidget(e.captchaType,e.widgetId)},onFail:async function(e){document.querySelector(".restart-button")?.click(),await new Promise(e=>setTimeout(e,2e3)),resetCaptchaWidget(e.captchaType,e.widgetId)},getForm:function(e){return!1},getCallback:function(e){return null}});
