window.sendMsgToSolverCS=function(e,s){return new Promise(function(t,a){let r=document.querySelector("body > solver-ext-messages"),o=(r||((r=document.createElement("solver-ext-messages")).style.display="none",document.body.appendChild(r)),document.createElement("solver-ext-message")),n=(o.dataset.action=e,o.dataset.messageId=Date.now(),s&&(o.dataset.data=encodeURIComponent(JSON.stringify(s))),r.appendChild(o),setInterval(function(){if(o.dataset.response){try{var e=JSON.parse(decodeURIComponent(o.dataset.response));e.error?a(new Error(e.error)):t(e)}catch(e){a(new Error("Cannot parse message response"))}clearTimeout(n),o.remove(),r.childNodes.length||r.remove()}},200))})},setInterval(function(){var e,t,a=document.querySelector("textarea[id=twocaptcha-callback-trigger]");a&&(e=a.getAttribute("data-function"),t=a.value,a.remove(),window[e](t))},1e3),setInterval(function(){var e=document.querySelector("textarea[id=twocaptcha-autosubmit-code]");if(e){var a=e.value.trim().split("\n");e.remove();let t=null;for(let e=0;e<a.length;e++){var r=JSON.parse(a[e]);"source"===r.type?("window"===r.value&&(t=window),"document"===r.value&&(t=document)):"property"===r.type?t=t[r.value]:"method"===r.type?t=r.args&&r.args.length?t[r.value](...r.args):t[r.value]():"index"===r.type&&(t=t[r.value])}}},1e3);
