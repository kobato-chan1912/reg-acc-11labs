async function checkClientKey(){var e=await getConfig();e.clientKey&&chrome.runtime.sendMessage({name:"popup",action:"checkClientKey",clientKey:e.clientKey},function(e){var t=document.querySelector("#credit");void 0===e.error?(e=e.response.data.balance,t.innerHTML=e.toFixed(4)+" $",e<=0?t.classList.add("red"):t.classList.remove("red")):(t.innerHTML="0.0000 $",t.classList.add("red"))})}async function initUi(){var t=await getConfig(),e=document.querySelector("#power");let s=e.querySelector(".spinning"),a=e.querySelector(".static"),n=e.querySelector(".btn");t.isPluginEnabled?(a.classList.remove("hidden"),n.classList.remove("off")):n.classList.add("off");let i;e.addEventListener("click",async()=>{clearTimeout(i),s.classList.add("hidden"),a.classList.add("hidden"),n.classList.contains("off")?(n.classList.remove("off"),s.classList.remove("hidden"),await setConfig("isPluginEnabled",!0),i=setTimeout(()=>{s.classList.add("hidden"),a.classList.remove("hidden")},1e3)):(await setConfig("isPluginEnabled",!1),n.classList.add("off"))});document.querySelector('.settings_text[data-settings="clientKey"]');document.querySelector(".save_key").addEventListener("click",async()=>{await checkClientKey()});for(let t of document.querySelectorAll('[data-tabtarget]:not([data-tabtarget=""])'))t.addEventListener("click",()=>{for(var e of document.querySelectorAll(".tab"))e.classList.add("hidden");document.querySelector(`[data-tab="${t.dataset.tabtarget}"]`).classList.remove("hidden")});for(let[s,e]of Object.entries(t)){for(let t of document.querySelectorAll(`.settings_toggle[data-settings="${s}"]`))t.classList.remove("on","off"),t.classList.add(e?"on":"off"),t.addEventListener("click",async()=>{var e=t.classList.contains("off");await setConfig(s,e),t.classList.remove("on","off"),t.classList.add(e?"on":"off")});for(let t of document.querySelectorAll(`.settings_dropdown[data-settings="${s}"]`))t.dataset.value===e&&(t.classList.add("selected"),document.querySelector(t.dataset.displays).innerHTML=t.innerHTML),t.addEventListener("click",async()=>{document.querySelector(`.settings_dropdown.selected[data-settings="${s}"]`)?.classList?.remove("selected");var e=t.dataset.value;await setConfig(s,e),t.classList.add("selected"),document.querySelector(t.dataset.displays).innerHTML=t.innerHTML});for(let t of document.querySelectorAll(`.settings_text[data-settings="${s}"]`))t.value=e,t.addEventListener("input",async()=>{var e=t.value;await setConfig(s,e)})}var d,c="Version "+chrome.runtime.getManifest().version;for(d of document.querySelectorAll(".footer")){var o=document.createElement("div"),r=(o.innerHTML=c,document.createElement("div"));r.innerHTML="2023 AchiCaptcha",d.append(o),d.append(r)}await checkClientKey()}document.addEventListener("DOMContentLoaded",initUi);
